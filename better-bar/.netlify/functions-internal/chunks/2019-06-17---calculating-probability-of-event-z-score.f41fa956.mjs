import { h as createVNode, F as Fragment } from './astro.98e1a385.mjs';
import 'html-escaper';
import 'cookie';
import 'kleur/colors';
import 'slash';
import 'path-to-regexp';
import 'mime';
import 'string-width';

const html = "<p>Probability can be used to describe the relationship between given values and the chance/probability of some event occuring.\nThis post will outline how we describe probability of some event given a fitted distribution.\nWe will fit a distribution to then calculate the survival function using the z-score of our limit given a fitted distribution.</p>\n<pre is:raw=\"\" class=\"astro-code\" style=\"background-color: #2e3440ff; overflow-x: auto;\"><code><span class=\"line\"><span style=\"color: #81A1C1\">from</span><span style=\"color: #D8DEE9FF\"> scipy </span><span style=\"color: #81A1C1\">import</span><span style=\"color: #D8DEE9FF\"> stats</span></span>\n<span class=\"line\"><span style=\"color: #81A1C1\">import</span><span style=\"color: #D8DEE9FF\"> pandas </span><span style=\"color: #81A1C1\">as</span><span style=\"color: #D8DEE9FF\"> pd</span></span>\n<span class=\"line\"><span style=\"color: #81A1C1\">import</span><span style=\"color: #D8DEE9FF\"> numpy </span><span style=\"color: #81A1C1\">as</span><span style=\"color: #D8DEE9FF\"> np</span></span>\n<span class=\"line\"><span style=\"color: #81A1C1\">import</span><span style=\"color: #D8DEE9FF\"> altair </span><span style=\"color: #81A1C1\">as</span><span style=\"color: #D8DEE9FF\"> alt</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">alt</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #D8DEE9FF\">data_transformers</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #88C0D0\">enable</span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #A3BE8C\">json</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #ECEFF4\">)</span></span></code></pre>\n<pre is:raw=\"\" class=\"astro-code\" style=\"background-color: #2e3440ff; overflow-x: auto;\"><code><span class=\"line\"><span style=\"color: #d8dee9ff\">DataTransformerRegistry.enable('json')</span></span></code></pre>\n<pre is:raw=\"\" class=\"astro-code\" style=\"background-color: #2e3440ff; overflow-x: auto;\"><code><span class=\"line\"><span style=\"color: #D8DEE9FF\">df </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> pd</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #88C0D0\">read_csv</span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #A3BE8C\">example_parameter.csv</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #ECEFF4\">)</span></span></code></pre>\n<h1 id=\"maximum-likelihood-estimate\">maximum likelihood estimate</h1>\n<p>In essence we either try distributions until it fits the data the best, or we know a analytical solution for the distribution at hand and get the best fitted distribution of the data right away.</p>\n<pre is:raw=\"\" class=\"astro-code\" style=\"background-color: #2e3440ff; overflow-x: auto;\"><code><span class=\"line\"><span style=\"color: #D8DEE9FF\">mu</span><span style=\"color: #ECEFF4\">,</span><span style=\"color: #D8DEE9FF\"> std </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> stats</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #D8DEE9FF\">norm</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #88C0D0\">fit</span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #D8DEE9FF\">df</span><span style=\"color: #ECEFF4\">)</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">mu</span><span style=\"color: #ECEFF4\">,</span><span style=\"color: #D8DEE9FF\"> std</span></span></code></pre>\n<pre is:raw=\"\" class=\"astro-code\" style=\"background-color: #2e3440ff; overflow-x: auto;\"><code><span class=\"line\"><span style=\"color: #d8dee9ff\">(5.669365294764912, 1.7405441476684247)</span></span></code></pre>\n<pre is:raw=\"\" class=\"astro-code\" style=\"background-color: #2e3440ff; overflow-x: auto;\"><code><span class=\"line\"><span style=\"color: #616E88\"># x between -3 and above with .001 steps.</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">x_axis </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> np</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #88C0D0\">arange</span><span style=\"color: #ECEFF4\">(</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #81A1C1\">-</span><span style=\"color: #B48EAD\">3</span><span style=\"color: #ECEFF4\">,</span><span style=\"color: #D8DEE9FF\"> </span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    mu </span><span style=\"color: #81A1C1\">+</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #B48EAD\">5</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">*</span><span style=\"color: #D8DEE9FF\"> std</span><span style=\"color: #ECEFF4\">,</span><span style=\"color: #D8DEE9FF\"> </span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #B48EAD\">0.001</span></span>\n<span class=\"line\"><span style=\"color: #ECEFF4\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #616E88\"># Mean = mu, SD = std.</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">y_axis </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> stats</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #D8DEE9FF\">norm</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #88C0D0\">pdf</span><span style=\"color: #ECEFF4\">(</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    x_axis</span><span style=\"color: #ECEFF4\">,</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    mu</span><span style=\"color: #ECEFF4\">,</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    std</span></span>\n<span class=\"line\"><span style=\"color: #ECEFF4\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #616E88\"># plot</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">df </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> pd</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #88C0D0\">DataFrame</span><span style=\"color: #ECEFF4\">()</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">df</span><span style=\"color: #ECEFF4\">[</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #A3BE8C\">x</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #ECEFF4\">]</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> x_axis</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">df</span><span style=\"color: #ECEFF4\">[</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #A3BE8C\">y</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #ECEFF4\">]</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> y_axis</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">alt</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #88C0D0\">Chart</span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #D8DEE9\">data</span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\">df</span><span style=\"color: #ECEFF4\">).</span><span style=\"color: #88C0D0\">mark_line</span><span style=\"color: #ECEFF4\">().</span><span style=\"color: #88C0D0\">encode</span><span style=\"color: #ECEFF4\">(</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #D8DEE9\">x</span><span style=\"color: #81A1C1\">=</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #A3BE8C\">x:Q</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #ECEFF4\">,</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #D8DEE9\">y</span><span style=\"color: #81A1C1\">=</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #A3BE8C\">y:Q</span><span style=\"color: #ECEFF4\">'</span></span>\n<span class=\"line\"><span style=\"color: #ECEFF4\">).</span><span style=\"color: #88C0D0\">properties</span><span style=\"color: #ECEFF4\">(</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #D8DEE9\">title</span><span style=\"color: #81A1C1\">=</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #A3BE8C\">Probability</span><span style=\"color: #ECEFF4\">'</span></span>\n<span class=\"line\"><span style=\"color: #ECEFF4\">)</span></span>\n<span class=\"line\"></span></code></pre>\n<p><img src=\"/media/calculating-probability-of-event-z-score/output_6_0.png\" alt=\"png\"></p>\n<p>since we have now fitted a curve around a mu (i.e. not around 0) which is the standard way of showing a distribution.\nWe will here demonstrate how to calculate the likelihood of being above a certain value based on the data that we have seen using the survival function.</p>\n<h1 id=\"2-probability-of-the-survival-function\">2. probability of the survival function</h1>\n<h3 id=\"is-the-1---cdf-where-cdf-is-the-cumulative-distribution-function\">is the $(1 - cdf)$ where cdf is the cumulative distribution function</h3>\n<pre is:raw=\"\" class=\"astro-code\" style=\"background-color: #2e3440ff; overflow-x: auto;\"><code><span class=\"line\"><span style=\"color: #616E88\"># plot</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">x_axis </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> x_axis</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">y_axis </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #B48EAD\">1</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">-</span><span style=\"color: #D8DEE9FF\"> stats</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #D8DEE9FF\">norm</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #88C0D0\">cdf</span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #D8DEE9FF\">x_axis</span><span style=\"color: #ECEFF4\">,</span><span style=\"color: #D8DEE9FF\"> mu</span><span style=\"color: #ECEFF4\">,</span><span style=\"color: #D8DEE9FF\"> std</span><span style=\"color: #ECEFF4\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">df </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> pd</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #88C0D0\">DataFrame</span><span style=\"color: #ECEFF4\">()</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">df</span><span style=\"color: #ECEFF4\">[</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #A3BE8C\">parameter</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #ECEFF4\">]</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> x_axis</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">df</span><span style=\"color: #ECEFF4\">[</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #A3BE8C\">1 - cdf</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #ECEFF4\">]</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> y_axis</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">line </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> alt</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #88C0D0\">Chart</span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #D8DEE9FF\">df</span><span style=\"color: #ECEFF4\">).</span><span style=\"color: #88C0D0\">mark_line</span><span style=\"color: #ECEFF4\">().</span><span style=\"color: #88C0D0\">encode</span><span style=\"color: #ECEFF4\">(</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #D8DEE9\">x</span><span style=\"color: #81A1C1\">=</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #A3BE8C\">parameter:Q</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #ECEFF4\">,</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #D8DEE9\">y</span><span style=\"color: #81A1C1\">=</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #A3BE8C\">1 - cdf:Q</span><span style=\"color: #ECEFF4\">'</span></span>\n<span class=\"line\"><span style=\"color: #ECEFF4\">).</span><span style=\"color: #88C0D0\">properties</span><span style=\"color: #ECEFF4\">(</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #D8DEE9\">title</span><span style=\"color: #81A1C1\">=</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #A3BE8C\">Probability of being above limit</span><span style=\"color: #ECEFF4\">'</span></span>\n<span class=\"line\"><span style=\"color: #ECEFF4\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">vertical_y </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> np</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #88C0D0\">arange</span><span style=\"color: #ECEFF4\">(</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #B48EAD\">0</span><span style=\"color: #ECEFF4\">,</span><span style=\"color: #D8DEE9FF\"> </span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #B48EAD\">2</span><span style=\"color: #ECEFF4\">,</span><span style=\"color: #D8DEE9FF\"> </span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #B48EAD\">0.001</span></span>\n<span class=\"line\"><span style=\"color: #ECEFF4\">)</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">df </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> pd</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #88C0D0\">DataFrame</span><span style=\"color: #ECEFF4\">()</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">df</span><span style=\"color: #ECEFF4\">[</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #A3BE8C\">vertical_y</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #ECEFF4\">]</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> vertical_y</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">df</span><span style=\"color: #ECEFF4\">[</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #A3BE8C\">limit</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #ECEFF4\">]</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> limit</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">threshold </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> pd</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #88C0D0\">DataFrame</span><span style=\"color: #ECEFF4\">([{</span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #A3BE8C\">threshold</span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #ECEFF4\">:</span><span style=\"color: #D8DEE9FF\"> limit</span><span style=\"color: #ECEFF4\">}])</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">rule </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> alt</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #88C0D0\">Chart</span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #D8DEE9FF\">threshold</span><span style=\"color: #ECEFF4\">).</span><span style=\"color: #88C0D0\">mark_rule</span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #D8DEE9\">color</span><span style=\"color: #81A1C1\">=</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #A3BE8C\">firebrick</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #ECEFF4\">).</span><span style=\"color: #88C0D0\">encode</span><span style=\"color: #ECEFF4\">(</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    alt</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #88C0D0\">X</span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #A3BE8C\">threshold:Q</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #ECEFF4\">,</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #D8DEE9\">title</span><span style=\"color: #81A1C1\">=</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #A3BE8C\">parameter</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #ECEFF4\">)</span></span>\n<span class=\"line\"><span style=\"color: #ECEFF4\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">line </span><span style=\"color: #81A1C1\">+</span><span style=\"color: #D8DEE9FF\"> rule</span></span></code></pre>\n<p><img src=\"/media/calculating-probability-of-event-z-score/output_8_0.png\" alt=\"png\"></p>\n<h1 id=\"3-take-the-z-score-of-the-fitted-distribution\">3. take the z-score of the fitted distribution</h1>\n<p>Since each distribution is centered around $mu$ we need to center our limit value against a normal distribution.\nThis is where we calculate the z-score from the distribution.</p>\n<p>$$\nz = \\frac{(value - mu)}{std}\n$$</p>\n<p>which says how many standard deviations we are from its $mu$.</p>\n<p>recall again that we want to see the probability of somethign accuring above the limit value.\ni.e. what is the probability that we exceed this value</p>\n<pre is:raw=\"\" class=\"astro-code\" style=\"background-color: #2e3440ff; overflow-x: auto;\"><code><span class=\"line\"><span style=\"color: #616E88\"># set the limit of the measure</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">limit </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #B48EAD\">9</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">z </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #D8DEE9FF\">limit </span><span style=\"color: #81A1C1\">-</span><span style=\"color: #D8DEE9FF\"> mu</span><span style=\"color: #ECEFF4\">)</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">/</span><span style=\"color: #D8DEE9FF\"> std</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">z</span></span></code></pre>\n<pre is:raw=\"\" class=\"astro-code\" style=\"background-color: #2e3440ff; overflow-x: auto;\"><code><span class=\"line\"><span style=\"color: #d8dee9ff\">1.9135594519085861</span></span></code></pre>\n<p>since we now have center our limit value around the $mu$ we need to apply the calculation for the probability given a distrubution that we assume with this calculation.</p>\n<p>meaning a $\\mu=0$ and a $std=1$</p>\n<pre is:raw=\"\" class=\"astro-code\" style=\"background-color: #2e3440ff; overflow-x: auto;\"><code><span class=\"line\"><span style=\"color: #616E88\"># x between -3 and above with .001 steps.</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">x_axis </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> np</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #88C0D0\">arange</span><span style=\"color: #ECEFF4\">(</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #81A1C1\">-</span><span style=\"color: #B48EAD\">3</span><span style=\"color: #ECEFF4\">,</span><span style=\"color: #D8DEE9FF\"> </span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    mu </span><span style=\"color: #81A1C1\">+</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #B48EAD\">5</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">*</span><span style=\"color: #D8DEE9FF\"> std</span><span style=\"color: #ECEFF4\">,</span><span style=\"color: #D8DEE9FF\"> </span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #B48EAD\">0.001</span></span>\n<span class=\"line\"><span style=\"color: #ECEFF4\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #616E88\"># Mean = mu, SD = std.</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">y_axis </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> stats</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #D8DEE9FF\">norm</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #88C0D0\">pdf</span><span style=\"color: #ECEFF4\">(</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    x_axis</span><span style=\"color: #ECEFF4\">,</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #B48EAD\">0</span><span style=\"color: #ECEFF4\">,</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #B48EAD\">1</span></span>\n<span class=\"line\"><span style=\"color: #ECEFF4\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #616E88\"># plot</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">df </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> pd</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #88C0D0\">DataFrame</span><span style=\"color: #ECEFF4\">()</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">df</span><span style=\"color: #ECEFF4\">[</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #A3BE8C\">x</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #ECEFF4\">]</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> x_axis</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">df</span><span style=\"color: #ECEFF4\">[</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #A3BE8C\">y</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #ECEFF4\">]</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> y_axis</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">alt</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #88C0D0\">Chart</span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #D8DEE9\">data</span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\">df</span><span style=\"color: #ECEFF4\">).</span><span style=\"color: #88C0D0\">mark_line</span><span style=\"color: #ECEFF4\">().</span><span style=\"color: #88C0D0\">encode</span><span style=\"color: #ECEFF4\">(</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #D8DEE9\">x</span><span style=\"color: #81A1C1\">=</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #A3BE8C\">x:Q</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #ECEFF4\">,</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #D8DEE9\">y</span><span style=\"color: #81A1C1\">=</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #A3BE8C\">y:Q</span><span style=\"color: #ECEFF4\">'</span></span>\n<span class=\"line\"><span style=\"color: #ECEFF4\">).</span><span style=\"color: #88C0D0\">properties</span><span style=\"color: #ECEFF4\">(</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #D8DEE9\">title</span><span style=\"color: #81A1C1\">=</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #A3BE8C\">Probability</span><span style=\"color: #ECEFF4\">'</span></span>\n<span class=\"line\"><span style=\"color: #ECEFF4\">)</span></span></code></pre>\n<p><img src=\"./images/calculating-probability-of-event-z-score/output_12_0.png\" alt=\"png\"></p>\n<pre is:raw=\"\" class=\"astro-code\" style=\"background-color: #2e3440ff; overflow-x: auto;\"><code><span class=\"line\"><span style=\"color: #616E88\"># With z score we can now use a normal distribution for our calculations</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #616E88\"># plot</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">x_axis </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> x_axis</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">y_axis </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #B48EAD\">1</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">-</span><span style=\"color: #D8DEE9FF\"> stats</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #D8DEE9FF\">norm</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #88C0D0\">cdf</span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #D8DEE9FF\">x_axis</span><span style=\"color: #ECEFF4\">,</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #B48EAD\">0</span><span style=\"color: #ECEFF4\">,</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #B48EAD\">1</span><span style=\"color: #ECEFF4\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">df </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> pd</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #88C0D0\">DataFrame</span><span style=\"color: #ECEFF4\">()</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">df</span><span style=\"color: #ECEFF4\">[</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #A3BE8C\">parameter</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #ECEFF4\">]</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> x_axis</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">df</span><span style=\"color: #ECEFF4\">[</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #A3BE8C\">1 - cdf</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #ECEFF4\">]</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> y_axis</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">line </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> alt</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #88C0D0\">Chart</span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #D8DEE9FF\">df</span><span style=\"color: #ECEFF4\">).</span><span style=\"color: #88C0D0\">mark_line</span><span style=\"color: #ECEFF4\">().</span><span style=\"color: #88C0D0\">encode</span><span style=\"color: #ECEFF4\">(</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #D8DEE9\">x</span><span style=\"color: #81A1C1\">=</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #A3BE8C\">parameter:Q</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #ECEFF4\">,</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #D8DEE9\">y</span><span style=\"color: #81A1C1\">=</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #A3BE8C\">1 - cdf:Q</span><span style=\"color: #ECEFF4\">'</span></span>\n<span class=\"line\"><span style=\"color: #ECEFF4\">).</span><span style=\"color: #88C0D0\">properties</span><span style=\"color: #ECEFF4\">(</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #D8DEE9\">title</span><span style=\"color: #81A1C1\">=</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #A3BE8C\">Probability of being above limit</span><span style=\"color: #ECEFF4\">'</span></span>\n<span class=\"line\"><span style=\"color: #ECEFF4\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">vertical_y </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> np</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #88C0D0\">arange</span><span style=\"color: #ECEFF4\">(</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #B48EAD\">0</span><span style=\"color: #ECEFF4\">,</span><span style=\"color: #D8DEE9FF\"> </span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #B48EAD\">2</span><span style=\"color: #ECEFF4\">,</span><span style=\"color: #D8DEE9FF\"> </span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #B48EAD\">0.001</span></span>\n<span class=\"line\"><span style=\"color: #ECEFF4\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">threshold </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> pd</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #88C0D0\">DataFrame</span><span style=\"color: #ECEFF4\">([</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #ECEFF4\">{</span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #A3BE8C\">prev_threshold</span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #ECEFF4\">:</span><span style=\"color: #D8DEE9FF\"> limit</span><span style=\"color: #ECEFF4\">},</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #ECEFF4\">{</span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #A3BE8C\">z_threshold</span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #ECEFF4\">:</span><span style=\"color: #D8DEE9FF\"> z</span><span style=\"color: #ECEFF4\">}</span></span>\n<span class=\"line\"><span style=\"color: #ECEFF4\">])</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">rule </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> alt</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #88C0D0\">Chart</span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #D8DEE9FF\">threshold</span><span style=\"color: #ECEFF4\">).</span><span style=\"color: #88C0D0\">mark_rule</span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #D8DEE9\">color</span><span style=\"color: #81A1C1\">=</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #A3BE8C\">firebrick</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #ECEFF4\">).</span><span style=\"color: #88C0D0\">encode</span><span style=\"color: #ECEFF4\">(</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #D8DEE9\">x</span><span style=\"color: #81A1C1\">=</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #A3BE8C\">prev_threshold:Q</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #ECEFF4\">,</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #D8DEE9\">opacity</span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\">alt</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #88C0D0\">OpacityValue</span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #B48EAD\">0.6</span><span style=\"color: #ECEFF4\">)</span></span>\n<span class=\"line\"><span style=\"color: #ECEFF4\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">rule2 </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> alt</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #88C0D0\">Chart</span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #D8DEE9FF\">threshold</span><span style=\"color: #ECEFF4\">).</span><span style=\"color: #88C0D0\">mark_rule</span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #D8DEE9\">color</span><span style=\"color: #81A1C1\">=</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #A3BE8C\">firebrick</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #ECEFF4\">).</span><span style=\"color: #88C0D0\">encode</span><span style=\"color: #ECEFF4\">(</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    alt</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #88C0D0\">X</span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #A3BE8C\">z_threshold:Q</span><span style=\"color: #ECEFF4\">'</span><span style=\"color: #ECEFF4\">),</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #D8DEE9\">size</span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\">alt</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #88C0D0\">SizeValue</span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #B48EAD\">2</span><span style=\"color: #ECEFF4\">)</span></span>\n<span class=\"line\"><span style=\"color: #ECEFF4\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">line </span><span style=\"color: #81A1C1\">+</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #D8DEE9FF\">rule </span><span style=\"color: #81A1C1\">+</span><span style=\"color: #D8DEE9FF\"> rule2</span><span style=\"color: #ECEFF4\">)</span></span></code></pre>\n<p><img src=\"./images/calculating-probability-of-event-z-score/output_13_0.png\" alt=\"png\"></p>\n<p>With the calculated z-score, we now have a way of also using the normal distribution without the need to explicitly tell $\\mu, std$ for the distribution.</p>\n<h2 id=\"back-to-the-real-world\">Back to the real world!!</h2>\n<p>Instead of writing the survival function which we will explicitly calculate the probability like so:</p>\n<pre is:raw=\"\" class=\"astro-code\" style=\"background-color: #2e3440ff; overflow-x: auto;\"><code><span class=\"line\"><span style=\"color: #616E88\"># score of the survival function</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">p </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> stats</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #D8DEE9FF\">norm</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #88C0D0\">sf</span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #D8DEE9FF\">limit</span><span style=\"color: #ECEFF4\">,</span><span style=\"color: #D8DEE9FF\"> mu</span><span style=\"color: #ECEFF4\">,</span><span style=\"color: #D8DEE9FF\"> std</span><span style=\"color: #ECEFF4\">)</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">p</span></span></code></pre>\n<pre is:raw=\"\" class=\"astro-code\" style=\"background-color: #2e3440ff; overflow-x: auto;\"><code><span class=\"line\"><span style=\"color: #d8dee9ff\">0.02783823512029548</span></span></code></pre>\n<p>We can now instead use the z-score for each call to a distribution.</p>\n<pre is:raw=\"\" class=\"astro-code\" style=\"background-color: #2e3440ff; overflow-x: auto;\"><code><span class=\"line\"><span style=\"color: #616E88\"># score of the survival function</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">p </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> stats</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #D8DEE9FF\">norm</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #88C0D0\">sf</span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #D8DEE9FF\">z</span><span style=\"color: #ECEFF4\">)</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">p</span></span></code></pre>\n<pre is:raw=\"\" class=\"astro-code\" style=\"background-color: #2e3440ff; overflow-x: auto;\"><code><span class=\"line\"><span style=\"color: #d8dee9ff\">0.02783823512029548</span></span></code></pre>\n<p>And we can see that it gives the same probability, just using different scales for the $\\mu$, $std$</p>";

				const frontmatter = {"title":"Calculating the Probability of some Event (E)","date":"2019-06-17T22:40:32.169Z","template":"post","draft":false,"slug":"calculating-probability-of-event-z-score","category":"Typography","tags":["statistics","probability"],"description":"How to calculate the Probability of an event occuring by also using the Z-score","socialImage":""};
				const file = "/Users/eleijonmarck/dev/eleijonmarck/better-bar/src/data/blog-posts/2019-06-17---calculating-probability-of-event-z-score.md";
				const url = undefined;
				function rawContent() {
					return "\nProbability can be used to describe the relationship between given values and the chance/probability of some event occuring.\nThis post will outline how we describe probability of some event given a fitted distribution.\nWe will fit a distribution to then calculate the survival function using the z-score of our limit given a fitted distribution.\n\n\n```python\nfrom scipy import stats\nimport pandas as pd\nimport numpy as np\nimport altair as alt\nalt.data_transformers.enable('json')\n```\n\n\n\n\n    DataTransformerRegistry.enable('json')\n\n\n\n\n```python\ndf = pd.read_csv('example_parameter.csv')\n```\n\n# maximum likelihood estimate\n\nIn essence we either try distributions until it fits the data the best, or we know a analytical solution for the distribution at hand and get the best fitted distribution of the data right away.\n\n\n```python\nmu, std = stats.norm.fit(df)\nmu, std\n```\n\n\n\n\n    (5.669365294764912, 1.7405441476684247)\n\n\n\n\n```python\n# x between -3 and above with .001 steps.\nx_axis = np.arange(\n    -3, \n    mu + 5 * std, \n    0.001\n)\n\n# Mean = mu, SD = std.\ny_axis = stats.norm.pdf(\n    x_axis,\n    mu,\n    std\n)\n\n# plot\ndf = pd.DataFrame()\ndf['x'] = x_axis\ndf['y'] = y_axis\nalt.Chart(data=df).mark_line().encode(\n    x='x:Q',\n    y='y:Q'\n).properties(\n    title='Probability'\n)\n\n```\n\n\n\n\n![png](/media/calculating-probability-of-event-z-score/output_6_0.png)\n\n\n\nsince we have now fitted a curve around a mu (i.e. not around 0) which is the standard way of showing a distribution.\nWe will here demonstrate how to calculate the likelihood of being above a certain value based on the data that we have seen using the survival function.\n\n# 2. probability of the survival function\n### is the $(1 - cdf)$ where cdf is the cumulative distribution function\n\n\n```python\n# plot\nx_axis = x_axis\n\ny_axis = 1 - stats.norm.cdf(x_axis, mu, std)\n\ndf = pd.DataFrame()\ndf['parameter'] = x_axis\ndf['1 - cdf'] = y_axis\nline = alt.Chart(df).mark_line().encode(\n    x='parameter:Q',\n    y='1 - cdf:Q'\n).properties(\n    title='Probability of being above limit'\n)\n\nvertical_y = np.arange(\n    0, \n    2, \n    0.001\n)\ndf = pd.DataFrame()\ndf['vertical_y'] = vertical_y\ndf['limit'] = limit\n\nthreshold = pd.DataFrame([{\"threshold\": limit}])\nrule = alt.Chart(threshold).mark_rule(color='firebrick').encode(\n    alt.X('threshold:Q', title='parameter')\n)\n\nline + rule\n```\n\n\n\n\n![png](/media/calculating-probability-of-event-z-score/output_8_0.png)\n\n\n\n# 3. take the z-score of the fitted distribution\n\nSince each distribution is centered around $mu$ we need to center our limit value against a normal distribution.\nThis is where we calculate the z-score from the distribution.\n\n$$\nz = \\frac{(value - mu)}{std}\n$$\n\nwhich says how many standard deviations we are from its $mu$.\n\nrecall again that we want to see the probability of somethign accuring above the limit value.\ni.e. what is the probability that we exceed this value\n\n\n```python\n# set the limit of the measure\nlimit = 9\nz = (limit - mu) / std\nz\n```\n\n\n\n\n    1.9135594519085861\n\n\n\nsince we now have center our limit value around the $mu$ we need to apply the calculation for the probability given a distrubution that we assume with this calculation.\n\nmeaning a $\\mu=0$ and a $std=1$\n\n\n```python\n# x between -3 and above with .001 steps.\nx_axis = np.arange(\n    -3, \n    mu + 5 * std, \n    0.001\n)\n\n# Mean = mu, SD = std.\ny_axis = stats.norm.pdf(\n    x_axis,\n    0,\n    1\n)\n\n# plot\ndf = pd.DataFrame()\ndf['x'] = x_axis\ndf['y'] = y_axis\nalt.Chart(data=df).mark_line().encode(\n    x='x:Q',\n    y='y:Q'\n).properties(\n    title='Probability'\n)\n```\n\n\n\n\n![png](./images/calculating-probability-of-event-z-score/output_12_0.png)\n\n\n\n\n```python\n# With z score we can now use a normal distribution for our calculations\n\n# plot\nx_axis = x_axis\n\ny_axis = 1 - stats.norm.cdf(x_axis, 0, 1)\n\ndf = pd.DataFrame()\ndf['parameter'] = x_axis\ndf['1 - cdf'] = y_axis\nline = alt.Chart(df).mark_line().encode(\n    x='parameter:Q',\n    y='1 - cdf:Q'\n).properties(\n    title='Probability of being above limit'\n)\n\nvertical_y = np.arange(\n    0, \n    2, \n    0.001\n)\n\n\nthreshold = pd.DataFrame([\n    {\"prev_threshold\": limit},\n    {\"z_threshold\": z}\n])\n\nrule = alt.Chart(threshold).mark_rule(color='firebrick').encode(\n    x='prev_threshold:Q',\n    opacity=alt.OpacityValue(0.6)\n)\n\nrule2 = alt.Chart(threshold).mark_rule(color='firebrick').encode(\n    alt.X('z_threshold:Q'),\n    size=alt.SizeValue(2)\n)\n\nline + (rule + rule2)\n```\n\n\n\n\n![png](./images/calculating-probability-of-event-z-score/output_13_0.png)\n\n\n\nWith the calculated z-score, we now have a way of also using the normal distribution without the need to explicitly tell $\\mu, std$ for the distribution.\n\n## Back to the real world!!\n\nInstead of writing the survival function which we will explicitly calculate the probability like so:\n\n\n```python\n# score of the survival function\np = stats.norm.sf(limit, mu, std)\np\n```\n\n\n\n\n    0.02783823512029548\n\n\n\nWe can now instead use the z-score for each call to a distribution.\n\n\n```python\n# score of the survival function\np = stats.norm.sf(z)\np\n```\n\n\n\n\n    0.02783823512029548\n\n\n\nAnd we can see that it gives the same probability, just using different scales for the $\\mu$, $std$\n";
				}
				function compiledContent() {
					return html;
				}
				function getHeadings() {
					return [{"depth":1,"slug":"maximum-likelihood-estimate","text":"maximum likelihood estimate"},{"depth":1,"slug":"2-probability-of-the-survival-function","text":"2. probability of the survival function"},{"depth":3,"slug":"is-the-1---cdf-where-cdf-is-the-cumulative-distribution-function","text":"is the $(1 - cdf)$ where cdf is the cumulative distribution function"},{"depth":1,"slug":"3-take-the-z-score-of-the-fitted-distribution","text":"3. take the z-score of the fitted distribution"},{"depth":2,"slug":"back-to-the-real-world","text":"Back to the real world!!"}];
				}
				async function Content() {
					const { layout, ...content } = frontmatter;
					content.file = file;
					content.url = url;
					const contentFragment = createVNode(Fragment, { 'set:html': html });
					return contentFragment;
				}
				Content[Symbol.for('astro.needsHeadRendering')] = true;

export { Content, compiledContent, Content as default, file, frontmatter, getHeadings, rawContent, url };
